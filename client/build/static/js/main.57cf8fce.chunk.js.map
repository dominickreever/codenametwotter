{"version":3,"sources":["components/layout/LeftIndex.js","context/UserContext.js","components/layout/ErrorNotice.js","components/layout/RightIndex.js","components/layout/Footer.js","components/pages/Index.js","components/pages/SignupForm.js","components/pages/LoginForm.js","components/pages/Home.js","App.js","index.js"],"names":["LeftIndex","className","createContext","ErrorNotice","props","message","onClick","clearError","RightIndex","useState","email","setEmail","password","setPassword","error","setError","setUserData","useContext","UserContext","history","useHistory","submit","e","a","preventDefault","loginUser","Axios","post","loginRes","token","data","user","localStorage","setItem","push","response","msg","onSubmit","id","type","placeholder","onChange","target","value","undefined","Footer","Index","SignupForm","name","setName","newUser","LoginForm","to","Home","userData","useEffect","App","getItem","headers","get","userRes","checkLoggedIn","Provider","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.57cf8fce.chunk.js","sourcesContent":["import React from 'react';\n\nexport default function LeftIndex() {\n    return (\n        <div className=\"leftindex\">\n            <div className=\"leftindex-grid\">\n                <div className=\"leftindex-grid-item\">\n                    <i className=\"fas fa-search\"> Follow your interests.</i>\n                </div>\n                <div className=\"leftindex-grid-item\">\n                    <i className=\"fas fa-user-friends\"> Hear what people are talking about.</i>\n                </div>\n                <div className=\"leftindex-grid-item\">\n                    <i className=\"fas fa-comment\"> Join the conversation.</i>\n                </div>\n            </div>\n        </div>\n    )\n}","import { createContext } from 'react';\n\nexport default createContext(null);","import React from 'react';\n\nexport default function ErrorNotice(props) {\n    return (\n            <div className=\"error-notice\">\n                <span>*{props.message}</span>\n                <button className=\"error-notice-btn\" onClick={props.clearError}>X</button>\n            </div>\n    )\n}","import React, { useState, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport UserContext from '../../context/UserContext';\nimport Axios from 'axios';\nimport ErrorNotice from './ErrorNotice';\n\nexport default function RightIndex() {\n    const [email, setEmail] = useState();\n    const [password, setPassword] = useState();\n    const [error, setError] = useState();\n\n    const { setUserData } = useContext(UserContext);\n    const history = useHistory()\n\n    const login = () => history.push('/login');\n    const signup = () => history.push('/signup');\n\n    const submit = async (e) => {\n        e.preventDefault();\n\n        try {\n           const loginUser = {\n            email,\n            password\n        };\n        const loginRes = await Axios.post(\n            \"/login\",\n            loginUser\n        );\n        setUserData({\n            token: loginRes.data.token,\n            user: loginRes.data.user\n        });\n        localStorage.setItem(\"auth-token\", loginRes.data.token);\n        history.push(\"/home\"); \n        }\n        catch (err) {\n            err.response.data.msg && setError(err.response.data.msg);\n        }\n        \n    };\n\n    return (\n        <div className=\"rightindex\">\n            <div>\n                <form className=\"index-login-form\" onSubmit={submit}>\n                    <input id=\"index-email\" type=\"email\" placeholder=\"Email\" onChange={e => setEmail(e.target.value)}></input>\n                    <input id=\"index-password\" type=\"text\" placeholder=\"Password\" onChange={e => setPassword(e.target.value)}></input>\n                    <input className=\"index-login-btn\" type=\"submit\" value=\"Log in\" />\n                </form>\n                {error && (<ErrorNotice message={error} clearError={() => setError(undefined)} />)}\n            </div>\n            <div className=\"index-tagline\">\n                <i className=\"fas fa-crow\"></i>\n                <h1>See what's happening in the world right now</h1>\n            </div>\n            <div className=\"index-auth-btns\">\n                <p className=\"calltoaction\">Join Twotter today.</p>\n                <button className=\"index-signup-btn\" onClick={signup}>Sign up</button>\n                <br></br>\n                <br></br>\n                <button className=\"index-login-btn\" onClick={login}>Log in</button>\n            </div>\n        </div>\n    )\n}","import React from 'react';\n\nexport default function Footer() {\n    return (\n        <div className=\"footer\">\n            <div className=\"footer-text\">\n                <p>Twotter, 2020</p>\n            </div>\n        </div>\n    )\n}","import React from 'react';\nimport LeftIndex from '../layout/LeftIndex';\nimport RightIndex from '../layout/RightIndex';\nimport Footer from '../layout/Footer';\nimport './Index.css'\n\nexport default function Index() {\n    return (\n        <div className=\"index\">\n            <div className=\"index-grid\">\n                <LeftIndex />\n                <RightIndex />\n            </div>\n            <Footer />\n        </div>\n    )\n}","import React, { useState, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport UserContext from '../../context/UserContext';\nimport Axios from 'axios';\nimport ErrorNotice from '../layout/ErrorNotice';\n\nexport default function SignupForm() {\n    const [name, setName] = useState();\n    const [email, setEmail] = useState();\n    const [password, setPassword] = useState();\n    const [error, setError] = useState();\n\n    const { setUserData } = useContext(UserContext);\n    const history = useHistory()\n\n    const submit = async (e) => {\n        e.preventDefault();\n        try {\n                    const newUser = {\n            name,\n            email,\n            password\n        };\n        await Axios.post(\n            \"/signup\",\n            newUser\n        );\n        const loginRes = await Axios.post(\n            \"/login\",\n            { email, password }\n        );\n        setUserData({\n            token: loginRes.data.token,\n            user: loginRes.data.user\n        });\n        localStorage.setItem(\"auth-token\", loginRes.data.token);\n        history.push(\"/home\");\n        }\n        catch (err) {\n            err.response.data.msg && setError(err.response.data.msg);\n        }\n    };\n\n    return (\n        <div className=\"signupform-page\">\n            <i className=\"fas fa-crow\"></i>\n            <h1>Create your account</h1>\n            {error && (<ErrorNotice message={error} clearError={() => setError(undefined)} />)}\n            <form onSubmit={submit}>\n                <input id=\"signup-name\" placeholder=\"Name\" type=\"text\" onChange={e => setName(e.target.value)}></input>\n                <br></br>\n                <br></br>\n                <input id=\"signup-email\" placeholder=\"Email\" type=\"email\" onChange={e => setEmail(e.target.value)}></input>\n                <br></br>\n                <br></br>\n                <input id=\"signup-password\" placeholder=\"Password\" type=\"text\" onChange={e => setPassword(e.target.value)}></input>\n                <br></br>\n                <br></br>\n                <input className=\"signupform-btn\" type=\"submit\" value=\"Sign up\" />\n            </form>\n        </div>\n    )\n}","import React, { useState, useContext } from 'react';\nimport { useHistory, Link } from 'react-router-dom';\nimport UserContext from '../../context/UserContext';\nimport Axios from 'axios';\nimport ErrorNotice from '../layout/ErrorNotice';\n\nexport default function LoginForm() {\n    const [email, setEmail] = useState();\n    const [password, setPassword] = useState();\n    const [error, setError] = useState();\n\n    const { setUserData } = useContext(UserContext);\n    const history = useHistory()\n\n    const submit = async (e) => {\n        e.preventDefault();\n        try {\n            const loginUser = {\n            email,\n            password\n        };\n        const loginRes = await Axios.post(\n            \"/login\",\n            loginUser\n        );\n        setUserData({\n            token: loginRes.data.token,\n            user: loginRes.data.user\n        });\n        localStorage.setItem(\"auth-token\", loginRes.data.token);\n        history.push(\"/home\");\n        }\n        catch (err) {\n            err.response.data.msg && setError(err.response.data.msg);\n        }\n    };\n\n    return (\n        <div className=\"loginform-page\">\n            <i className=\"fas fa-crow\"></i>\n            <h1>Log in to Twotter</h1>\n            {error && (<ErrorNotice message={error} clearError={() => setError(undefined)} />)}\n            <form onSubmit={submit}>\n                <input id=\"login-email\" placeholder=\"Email\" type=\"email\" onChange={e => setEmail(e.target.value)}></input>\n                <br></br>\n                <br></br>\n                <input id=\"login-password\" placeholder=\"Password\" type=\"text\" onChange={e => setPassword(e.target.value)}></input>\n                <br></br>\n                <br></br>\n                <input className=\"loginform-btn\" type=\"submit\" value=\"Log in\" />\n                <br></br>\n                <br></br>\n                <Link to=\"/signup\">Sign up for Twotter</Link>\n            </form>\n        </div>\n    )\n}","import React, { useContext, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport UserContext from '../../context/UserContext';\n\nexport default function Home() {\n    const { userData, setUserData } = useContext(UserContext);\n    const history = useHistory()\n\n    useEffect(() => {\n        if(!userData.user) history.push(\"/\");\n    });\n\n    const logout = () => {\n        setUserData({\n            token: undefined,\n            user: undefined\n        });\n        localStorage.setItem(\"auth-token\", \"\");\n        history.push(\"/\");\n    };\n\n    return (\n            <div className=\"home-page\">\n                <i className=\"fas fa-crow\"></i>\n                <h1>Welcome to Twotter</h1>\n                <input className=\"logout-btn\" onClick={logout} type=\"submit\" value=\"Log out\" />\n            </div> \n    )\n}","import React, { useState, useEffect } from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport Axios from 'axios';\nimport Index from './components/pages/Index';\nimport SignupForm from './components/pages/SignupForm';\nimport LoginForm from './components/pages/LoginForm';\nimport Home from './components/pages/Home';\nimport UserContext from './context/UserContext';\n\nexport default function App() {\n    const [userData, setUserData] = useState({\n    token: undefined,\n    user: undefined\n    });\n\n    useEffect(() => {\n        const checkLoggedIn = async () => {\n            let token = localStorage.getItem(\"auth-token\");\n            if (token === null) {\n                localStorage.setItem(\"auth-token\", \"\");\n                token = \"\";\n            }\n            const tokenRes = await Axios.post(\"/users/tokenIsValid\",\n            null,\n            { headers: {\"x-auth-token\": token} });\n\n            if (tokenRes.data) {\n                let userRes = await Axios.get(\"/users\",\n                null,\n                { headers: { \"x-auth-token\": token }},\n                );\n                setUserData({\n                    token,\n                    user: userRes.data\n                });\n            }\n        };\n        checkLoggedIn();\n    }, [])\n\n    return (\n        <div>\n            <BrowserRouter>\n                <UserContext.Provider value={{ userData, setUserData }} >\n                    <Switch>\n                        <Route path=\"/home\" component={Home} />\n                        <Route path=\"/signup\" component={SignupForm} />\n                        <Route path=\"/login\" component={LoginForm} />\n                        <Route path=\"/\" component={Index} />\n                    </Switch>\n                </UserContext.Provider>\n            </BrowserRouter>\n        </div>\n    )\n}","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\"\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}