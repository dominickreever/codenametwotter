(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{59:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(1),c=n(28),r=n.n(c),i=n(8),o=n.n(i),u=n(11),j=n(4),l=n(12),b=n(2),d=n(10),x=n.n(d);function p(){return Object(a.jsx)("div",{className:"leftindex",children:Object(a.jsxs)("div",{className:"leftindex-grid",children:[Object(a.jsx)("div",{className:"leftindex-grid-item",children:Object(a.jsx)("i",{className:"fas fa-search",children:" Follow your interests."})}),Object(a.jsx)("div",{className:"leftindex-grid-item",children:Object(a.jsx)("i",{className:"fas fa-user-friends",children:" Hear what people are talking about."})}),Object(a.jsx)("div",{className:"leftindex-grid-item",children:Object(a.jsx)("i",{className:"fas fa-comment",children:" Join the conversation."})})]})})}var O=Object(s.createContext)(null);function h(e){return Object(a.jsxs)("div",{className:"error-notice",children:[Object(a.jsxs)("span",{children:["*",e.message]}),Object(a.jsx)("button",{className:"error-notice-btn",onClick:e.clearError,children:"X"})]})}function m(){var e=Object(s.useState)(),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(),i=Object(j.a)(r,2),l=i[0],d=i[1],p=Object(s.useState)(),m=Object(j.a)(p,2),f=m[0],g=m[1],v=Object(s.useContext)(O).setUserData,k=Object(b.f)(),w=function(){var e=Object(u.a)(o.a.mark((function e(t){var a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a={email:n,password:l},e.next=5,x.a.post("/login",a);case 5:s=e.sent,v({token:s.data.token,user:s.data.user}),localStorage.setItem("auth-token",s.data.token),k.push("/home"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),e.t0.response.data.msg&&g(e.t0.response.data.msg);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"rightindex",children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("form",{className:"index-login-form",onSubmit:w,children:[Object(a.jsx)("input",{id:"index-email",type:"email",placeholder:"Email",onChange:function(e){return c(e.target.value)}}),Object(a.jsx)("input",{id:"index-password",type:"text",placeholder:"Password",onChange:function(e){return d(e.target.value)}}),Object(a.jsx)("input",{className:"index-login-btn",type:"submit",value:"Log in"})]}),f&&Object(a.jsx)(h,{message:f,clearError:function(){return g(void 0)}})]}),Object(a.jsxs)("div",{className:"index-tagline",children:[Object(a.jsx)("i",{className:"fas fa-crow"}),Object(a.jsx)("h1",{children:"See what's happening in the world right now"})]}),Object(a.jsxs)("div",{className:"index-auth-btns",children:[Object(a.jsx)("p",{className:"calltoaction",children:"Join Twotter today."}),Object(a.jsx)("button",{className:"index-signup-btn",onClick:function(){return k.push("/signup")},children:"Sign up"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("button",{className:"index-login-btn",onClick:function(){return k.push("/login")},children:"Log in"})]})]})}function f(){return Object(a.jsx)("div",{className:"footer",children:Object(a.jsx)("div",{className:"footer-text",children:Object(a.jsx)("p",{children:"Twotter, 2020"})})})}n(59);function g(){return Object(a.jsxs)("div",{className:"index",children:[Object(a.jsxs)("div",{className:"index-grid",children:[Object(a.jsx)(p,{}),Object(a.jsx)(m,{})]}),Object(a.jsx)(f,{})]})}function v(){var e=Object(s.useState)(),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(),i=Object(j.a)(r,2),l=i[0],d=i[1],p=Object(s.useState)(),m=Object(j.a)(p,2),f=m[0],g=m[1],v=Object(s.useState)(),k=Object(j.a)(v,2),w=k[0],N=k[1],S=Object(s.useContext)(O).setUserData,y=Object(b.f)(),C=function(){var e=Object(u.a)(o.a.mark((function e(t){var a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a={name:n,email:l,password:f},e.next=5,x.a.post("/signup",a);case 5:return e.next=7,x.a.post("/login",{email:l,password:f});case 7:s=e.sent,S({token:s.data.token,user:s.data.user}),localStorage.setItem("auth-token",s.data.token),y.push("/home"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),e.t0.response.data.msg&&N(e.t0.response.data.msg);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"signupform-page",children:[Object(a.jsx)("i",{className:"fas fa-crow"}),Object(a.jsx)("h1",{children:"Create your account"}),w&&Object(a.jsx)(h,{message:w,clearError:function(){return N(void 0)}}),Object(a.jsxs)("form",{onSubmit:C,children:[Object(a.jsx)("input",{id:"signup-name",placeholder:"Name",type:"text",onChange:function(e){return c(e.target.value)}}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{id:"signup-email",placeholder:"Email",type:"email",onChange:function(e){return d(e.target.value)}}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{id:"signup-password",placeholder:"Password",type:"text",onChange:function(e){return g(e.target.value)}}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{className:"signupform-btn",type:"submit",value:"Sign up"})]})]})}function k(){var e=Object(s.useState)(),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(),i=Object(j.a)(r,2),d=i[0],p=i[1],m=Object(s.useState)(),f=Object(j.a)(m,2),g=f[0],v=f[1],k=Object(s.useContext)(O).setUserData,w=Object(b.f)(),N=function(){var e=Object(u.a)(o.a.mark((function e(t){var a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a={email:n,password:d},e.next=5,x.a.post("/login",a);case 5:s=e.sent,k({token:s.data.token,user:s.data.user}),localStorage.setItem("auth-token",s.data.token),w.push("/home"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),e.t0.response.data.msg&&v(e.t0.response.data.msg);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"loginform-page",children:[Object(a.jsx)("i",{className:"fas fa-crow"}),Object(a.jsx)("h1",{children:"Log in to Twotter"}),g&&Object(a.jsx)(h,{message:g,clearError:function(){return v(void 0)}}),Object(a.jsxs)("form",{onSubmit:N,children:[Object(a.jsx)("input",{id:"login-email",placeholder:"Email",type:"email",onChange:function(e){return c(e.target.value)}}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{id:"login-password",placeholder:"Password",type:"text",onChange:function(e){return p(e.target.value)}}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{className:"loginform-btn",type:"submit",value:"Log in"}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(l.b,{to:"/signup",children:"Sign up for Twotter"})]})]})}function w(){var e=Object(s.useContext)(O),t=e.userData,n=e.setUserData,c=Object(b.f)();Object(s.useEffect)((function(){t.user||c.push("/")}));return Object(a.jsxs)("div",{className:"home-page",children:[Object(a.jsx)("i",{className:"fas fa-crow"}),Object(a.jsx)("h1",{children:"Welcome to Twotter"}),Object(a.jsx)("input",{className:"logout-btn",onClick:function(){n({token:void 0,user:void 0}),localStorage.setItem("auth-token",""),c.push("/")},type:"submit",value:"Log out"})]})}function N(){var e=Object(s.useState)({token:void 0,user:void 0}),t=Object(j.a)(e,2),n=t[0],c=t[1];return Object(s.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=localStorage.getItem("auth-token"))&&(localStorage.setItem("auth-token",""),t=""),e.next=4,x.a.post("/users/tokenIsValid",null,{headers:{"x-auth-token":t}});case 4:if(!e.sent.data){e.next=10;break}return e.next=8,x.a.get("/users",null,{headers:{"x-auth-token":t}});case 8:n=e.sent,c({token:t,user:n.data});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.jsx)("div",{children:Object(a.jsx)(l.a,{children:Object(a.jsx)(O.Provider,{value:{userData:n,setUserData:c},children:Object(a.jsxs)(b.c,{children:[Object(a.jsx)(b.a,{path:"/home",component:w}),Object(a.jsx)(b.a,{path:"/signup",component:v}),Object(a.jsx)(b.a,{path:"/login",component:k}),Object(a.jsx)(b.a,{path:"/",component:g})]})})})})}r.a.render(Object(a.jsx)(N,{}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.57cf8fce.chunk.js.map